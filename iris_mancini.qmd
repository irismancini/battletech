---
title: "Battletech Lab - 5/12/23"
format: html
editor: visual
author: "Iris Mancini"
---

```{r, echo= FALSE, message = FALSE}
here::i_am("battletech.Rproj")
library(knitr)
library(here)
library(dplyr)
library(tidyr)
library(ggplot2)
library(vroom)
library(patchwork)
```

### Question 1.

Commits done on github.

### Question 2.

Here is the link to my repository on GitHub : https://github.com/irismancini/battletech.git

### Question 3. Data loading

```{r, echo = FALSE, message = FALSE}
battletech <- vroom(here("data", "Btdatasystems.csv"), 
                    delim = ":", #the delimitor used in the csv file is the ":"
                    quote = "\"", #the strings are separated by quotation marks
                    na = c("", "NA"), 
                    locale = locale(grouping_mark = ".", decimal_mark = ",", encoding = "UTF-8")) #we replace the missing values by NA

```

The number of star systems is `r nrow(battletech)`\`desrcibed by `r ncol(battletech)`\`variables.

Checking that all my variables are indeed numerical variables :

```{r, echo = FALSE, message = FALSE}

class(battletech$star_code)
class(battletech$Star_name)
class(battletech$`distance from the sun`)
class(battletech$`Equivalent Temperature`)
class(battletech$`relative mass`)
class(battletech$Radius)
class(battletech$`RELATIVE LUMINOSITY`)
class(battletech$`Stellar Class`)
```

I realized that not all my numerical variables were considered numeric, since I didn't specify, downloading the date base that my decimal separators were comas and not point, so I added a command such that comas were replaced by points and now all my variables are numerical.

### Question 4. 

```{r, message = FALSE, echo = FALSE}

n_obs <- battletech |> 
  count(nrow(battletech))

n_var <- battletech |>
  count(ncol(battletech))

na_values <- summarise_all(battletech, ~sum(is.na(.)))

n_1na <- sum(rowSums(is.na(battletech)) > 0)

table <- data.frame(
  Metric = c("Number of Observations", "Number of Variables", 
             "Number of Missing Values per variable", 
             "Observations with at least one Missing Value"),
  Value = c(n_obs, n_var, 
            paste(na_values), collapse = ", "), 
            n_1na)

kable(table, format = "markdown")
```

### Question 5 : 

```{r, message = FALSE, echo =FALSE}

# I create a dataframe that cleans my data of NA value for my two specific columns so I dont get a warning message

temp_rad <- na.omit(battletech, cols = c(`Equivalent Temperature`,Radius))

#Graphical representation : 
ggplot(temp_rad, aes(x = Radius, y = `Equivalent Temperature` )) +
  geom_point() +  
  labs(title = "Temperature of Stars as a Function of Their Radius",
       x = "Radius",
       y = "Temperature")

```

### Question 6. 
